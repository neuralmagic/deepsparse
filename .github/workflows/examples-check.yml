name: Example Checks
on: 
  push:
    branches:
      - main
      - 'release/*'
  pull_request:
    branches:
      - main
      - 'release/*'
      
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
jobs:
  sparseserver-tests:
    runs-on: ubuntu-20.04
    steps:
      - name: "⚙️ Install deepsparse nightly"
        run: pip3 install deepsparse-nightly
      - name: "cat /proc/cpuinfo"
        run: cat /proc/cpuinfo
      - name: "⚙️ Install docker"
        run: sudo apt-get install -y docker docker-compose
      - name: "🔬 Running deepsparse tests"
        run: cd examples/sparseserver-ui && docker-compose up --build
